@{
    Layout = "_Layout";
    ViewData["Title"] = "Submit New Claim";
}

<h2>Submit New Claim</h2>

<section class="card">
    <form method="post" enctype="multipart/form-data" class="form-grid">
        @Html.AntiForgeryToken()

        @if (!ViewData.ModelState.IsValid)
        {
            <div class="text-danger">
                @Html.ValidationSummary()
            </div>
        }

        <div>
            <label for="LecturerName">Lecturer Name *</label>
            <input type="text" id="LecturerName" name="lecturerName" class="form-control" required />
        </div>

        <div>
            <label for="Title">Claim Title *</label>
            <input type="text" id="Title" name="title" class="form-control" required />
        </div>

        <div>
            <label for="Description">Description (Optional)</label>
            <textarea id="Description" name="description" class="form-control"></textarea>
        </div>

        <div>
            <label for="Hours">Hours Worked (Optional)</label>
            <input type="number" id="Hours" name="hours" class="form-control" min="0" value="0" />
        </div>

        <div>
            <label for="Rate">Hourly Rate (Optional)</label>
            <input type="number" id="Rate" name="rate" class="form-control" min="0" step="0.01" value="0" />
        </div>

        <div>
            <label for="file">Supporting Document (Optional)</label>
            <input type="file" id="file" name="file" class="form-control"
                   accept=".pdf,.docx,.xlsx,.doc,.xls" />
            <small class="text-muted">
                Allowed file types: PDF, Word (.docx, .doc), Excel (.xlsx, .xls). Maximum file size: 10MB.
            </small>
            <div id="fileNameDisplay" style="margin-top: 5px; font-style: italic;"></div>
        </div>

        <div class="button-row">
            <button type="submit" class="btn-primary">Submit Claim</button>
            <a href="/Claims" class="btn-secondary">Cancel</a>
        </div>
    </form>
</section>

<script>
    document.getElementById('file').addEventListener('change', function(e) {
        var fileNameDisplay = document.getElementById('fileNameDisplay');
        if (this.files.length > 0) {
            fileNameDisplay.textContent = 'Selected file: ' + this.files[0].name;
        } else {
            fileNameDisplay.textContent = '';
        }
    });
</script>